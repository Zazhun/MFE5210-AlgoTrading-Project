# 简介
参考vnpy的架构，实现事件驱动型回测框架。\
支持买入持有和双均线策略

# 模块介绍
![image](https://user-images.githubusercontent.com/65761803/236594048-547bf29b-2720-4478-82fb-080b75b10343.png)

## 核心：  
1.回测类：封装了模拟交易所类、策略类和订单管理类  
2.事件类：事件队列（参考vnpy）  
3.引擎类：封装了事件类，是模拟交易所类、策略类和订单管理类的父类

# 代码结构
## 核心类  core
1.定义基类  engine

## 模拟交易所   exchange
本模块包含两个核心类：
SimExchange：模拟交易所，负责回测期间行情数据的加载、订单撮合、成交处理及每日盯市结果的记录。
DailyResult：记录每日交易结果（如盈亏、持仓等）的数据结构。

### SimExchange 类
- 模拟交易所的核心功能，包括：
- 加载历史行情数据（Tick 级别）。
- 生成模拟行情更新事件（EVENT_TICK）。
- 处理订单请求（EVENT_REQUEST）并撮合交易。
- 记录每日交易结果（DailyResult）。
- 触发事件（行情、订单、成交、日志）到事件引擎。

### DailyResult 类
记录单个交易日的盯市结果，包括：
当日持仓盈亏、交易盈亏、手续费、滑点等。
计算当日各项盈亏指标。

## 策略类    strategy
1.产生买卖信号  
2.用买入并持有策略进行测试  

## 订单管理类   oms
1.管理仓位&账户  
2.产生下单信号  

## 数据库   db 
1.数据来源：tqsdk历史行情数据，现存储了全合约2023年1月3日到2023年1月11日的level1 Tick数据  
2.数据库：dolphinDB（免费版）  
3.功能：读取、写入历史数据，读取目前存入数据概况（合约、时间区间、总条数）  






